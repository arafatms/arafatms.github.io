---
layout: post
title: 【内核之内存】x,匿名页面生命周期
date: 2021-07-05 
tags: 内核之内存
---

# x,匿名页面生命周期

> 用户空间通过malloc/mmap接口函数分配的内存

就像万物都有出生，贡献，凋落一样匿名页面也是有生命周期的。本章主要讲述匿名页面的产生，使用，换出，换入以及销毁。

## 1.匿名页面的产生

匿名页面的产生有多种途径，主要以以下三种方式产生：
- 当用户空间程序通过malloc/mmap接口函数分配内存时，通常只会分配一些虚拟内存(VMA)，而并没有与物理内存建立映射关系。当用户进程真正需要使用这些内存空间时，
就会触发一个缺页中断。对于匿名页面缺页中断处理函数通常为do_anonymous_page(缺页中断具体处理流程请见之前的文章)。

